# システムユースケース定義書 (System Use Case Specification)

**対象システム:** 企業向け統合スケジュール管理システム  
**フェーズ:** 要件定義詳細化  
**アクター定義:**

| アクター名 | 概要 |
| :--- | :--- |
| **一般社員 (User)** | 自身の予定管理、他者の予定閲覧、会議招集を行う標準的なユーザー。 |
| **秘書/代理人 (Proxy)** | 役員等のスケジュールを代理で管理する権限を持つユーザー。 |
| **システム管理者 (Admin)** | ユーザー管理、リソース（会議室）管理、ログ監査を行う特権ユーザー。 |
| **AIアシスタント (System)** | 自然言語指示に基づき、検索・提案・登録を補佐するボット機能。 |

## 1. コア・ユースケース (Core Functionality)

### UC-01: 会議室を伴う新規予定の登録
最も頻度が高く、データの整合性が求められる基本フローです。

* **アクター:** 一般社員
* **事前条件:** ユーザーがログイン済みであること。
* **基本フロー (Main Success Scenario):**
    1.  ユーザーは、カレンダー上の日時（開始・終了）を選択する。
    2.  ユーザーは、会議タイトルと詳細を入力する。
    3.  ユーザーは、参加者（複数名）を選択する。
    4.  **システムは、選択された日時における参加者の空き状況を表示する。**
    5.  ユーザーは、利用するリソース（会議室A）を選択する。
    6.  **システムは、当該リソースの空き状況を確認する（排他制御チェック）。**
    7.  ユーザーは「登録」ボタンを押下する。
    8.  システムは、予定データとリソース予約データを不可分なトランザクションとして保存する。
    9.  システムは、参加者に招待メール/通知を送信する。
* **代替フロー (Alternative Flows):**
    * **6a. リソース競合:** 選択した会議室が既に埋まっている場合、システムはエラーを表示し、空いている別の会議室を提案する。
    * **8a. 同時書き込み衝突:** 保存直前に他者が同じリソースを予約した場合、システムは「タッチの差で予約されました」と通知し、再選択を促す。

### UC-02: AIアシスタントによるスマート日程調整
1万人規模でこそ真価を発揮する、AI活用の目玉機能です。

* **アクター:** 一般社員
* **事前条件:** 自然言語入力インターフェースが開かれていること。
* **基本フロー:**
    1.  ユーザーは「来週、A部長とB課長と私の3人で、1時間の予算MTGをしたい。プロジェクターがある部屋で」と入力する。
    2.  **システム(AI)は、入力意図を解析し、期間・参加者・所要時間・リソース条件を抽出する。**
    3.  システムは、対象者全員のスケジュールと、条件に合致する会議室の空き状況をクロス検索する。
    4.  システムは、候補日時をスコア順（全員の移動時間が少ない等）に3つ提示する。
    5.  ユーザーは、提示された候補から1つを選択する。
    6.  システムは、予定とリソースを確定登録する。
* **例外フロー:**
    * **3a. 候補なし:** 全員の空き時間が存在しない場合、システムは「A部長の予定が埋まっています。再来週で探しますか？あるいはA部長を除外しますか？」と対案を提示する。

## 2. エンタープライズ特化ユースケース (Enterprise Features)

### UC-03: 代理人による予定登録（秘書モード）
役員スケジュール管理に必須の機能です。

* **アクター:** 秘書/代理人
* **事前条件:** ユーザーが「被代理人（役員）」の代理操作権限を付与されていること。
* **基本フロー:**
    1.  ユーザーは、操作対象を「自分のカレンダー」から「役員カレンダー」に切り替える。
    2.  システムは、UIのテーマ色を変更し、現在「代理モード」であることを明示する。
    3.  ユーザーは、UC-01と同様の手順で予定を登録する。
    4.  システムは、登録者を「秘書」、所有者を「役員」としてデータを保存する。
    5.  システムは、役員本人に「秘書により予定が追加されました」と通知する。

### UC-04: 公開範囲設定とプライバシー制御
全社員公開が基本ですが、機密情報の保護が必要です。

* **アクター:** 一般社員
* **基本フロー:**
    1.  ユーザーは「人事評価面談」の予定を作成する。
    2.  ユーザーは、公開設定を「非公開（Private）」または「時間枠のみ公開（Busy）」に設定する。
    3.  システムは設定を保存する。
    4.  **他のユーザー（参加者以外）**が当該ユーザーのカレンダーを閲覧する。
    5.  システムは、当該時間枠を「予定あり」とのみ表示し、詳細（件名・場所）はマスクして表示する。
* **事後条件:** 管理者権限を持つユーザーであっても、監査ログ以外の画面では内容を参照できない（※ポリシーによる）。

## 3. 開発AIへの連携指示

これらのユースケースは、そのまま**テストコード生成のプロンプト**になります。
AI駆動開発を加速させるため、次のステップでは以下のように指示を出します。

